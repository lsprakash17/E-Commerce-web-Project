package com.prjct.emarket.helper;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.mail.javamail.MimeMessageHelper;
import org.springframework.stereotype.Service;
import com.prjct.emarket.dto.Merchant;

import jakarta.mail.MessagingException;
import jakarta.mail.internet.MimeMessage;

@Service
public class SendmailMerchant
{
	
	@Autowired
	JavaMailSender MailSender;
	
public void sendOtp(Merchant merchant)
{
MimeMessage mimeMessage =MailSender.createMimeMessage();
MimeMessageHelper helper=new MimeMessageHelper(mimeMessage);


try {
	helper.setFrom("E-Market");
	helper.setTo(merchant.getEmail());
	helper.setSubject("Veryfi Email for Account creation");
	helper.setText("<h1>Hello"+ merchant.getName()+"</h1>");
	if(merchant.getName().equals("Mr."))		
	helper.setText("Mr.");
	else
	helper.setText("Ms.");
	helper.setText("<span style='color:blue'>"+merchant.getName()+"</span>");
	helper.setText("Thank you for creating account");
	helper.setText("your otp is "+merchant.getOtp());
} catch (MessagingException e) {
	e.printStackTrace();
}
	
}
}
