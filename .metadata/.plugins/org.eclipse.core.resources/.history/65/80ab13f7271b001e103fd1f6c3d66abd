package com.prjct.emarket.service;

import java.time.LocalDate;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.ui.ModelMap;

import com.prjct.emarket.dao.Customerdao;
import com.prjct.emarket.dto.Customer;
import com.prjct.emarket.helper.SendmailMerchant;

@Service
public class CustomerService {

	@Autowired
	Customerdao dao;
	
	@Autowired
	SendmailMerchant mail;

	public String Signup(Customer customer, String date, ModelMap model) 
	{
		customer.setDob(LocalDate.parse(date)); 
		if (dao.findByEmail(customer.getEmail()) != null
				|| dao.findByMobile(customer.getMobile()) != null) {
			model.put("fail", "Email or Mobile Should not be repeated");
			return "MerchantSignup";
	}

}
